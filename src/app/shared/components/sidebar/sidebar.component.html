<!-- Backdrop mÃ³vil -->
<div class="fixed inset-0 bg-black/40 z-40 md:hidden"
     *ngIf="open" (click)="onBackdropClick()" aria-hidden="true"></div>

<!-- Sidebar (light + dark) -->
<aside
  class="fixed inset-y-0 left-0 z-50 w-72 md:w-64
         bg-gradient-to-b from-blue-500 to-blue-600
         dark:from-[#081A35] dark:via-[#0B1E3B] dark:to-[#020B18]
         text-white
         border-r border-blue-700 dark:border-[#050B16]
         transition-transform duration-300 ease-in-out
         md:static md:translate-x-0
         md:sticky md:top-20 md:h-[calc(100vh-5rem)]"
  [class.-translate-x-full]="!open"
  aria-label="MenÃº principal">

  <!-- Cabecera -->
  <div class="h-14 px-4 flex items-center justify-between border-b border-white/10">
    <span class="text-[11px] font-semibold tracking-wider">LEARNING+</span>
    <button class="md:hidden px-2 py-1 rounded-lg text-white/80 hover:bg-white/10"
            (click)="onBackdropClick()" aria-label="Cerrar menÃº">âœ•</button>
  </div>

  <!-- NavegaciÃ³n -->
  <nav class="h-[calc(100%-3.5rem)] overflow-y-auto px-3 py-3">
    <!-- SecciÃ³n 1 -->
    <p class="px-3 mb-2 text-[11px] uppercase tracking-wider text-white/80">Cursos</p>

    <a *ngFor="let it of cursos"
       [routerLink]="it.link"
       [routerLinkActiveOptions]="{ exact: !!it.exact }"
       routerLinkActive="is-active"
       #rla="routerLinkActive"
       (click)="onLinkClick()"
       class="relative flex items-center gap-3 px-3 py-2 rounded-lg
              text-white/90 hover:bg-white/10 hover:text-white
              transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-yellow-300">
      <!-- Indicador activo -->
      <span *ngIf="rla.isActive"
            class="absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 rounded-r-full bg-yellow-400"></span>

      <mat-icon fontSet="material-symbols-outlined">{{ it.icon }}</mat-icon>
      <span class="flex-1 truncate">{{ it.label }}</span>
    </a>

    <div class="my-4 border-t border-dashed border-white/15"></div>

    <!-- SecciÃ³n 2 -->
    <p class="px-3 mb-2 text-[11px] uppercase tracking-wider text-white/80">Tu cuenta</p>

    <a *ngFor="let it of cuenta"
       [routerLink]="it.link"
       routerLinkActive="is-active"
       #rla2="routerLinkActive"
       (click)="onLinkClick()"
       class="relative flex items-center gap-3 px-3 py-2 rounded-lg
              text-white/90 hover:bg-white/10 hover:text-white
              transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-yellow-300">
      <span *ngIf="rla2.isActive"
            class="absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 rounded-r-full bg-yellow-400"></span>

      <mat-icon fontSet="material-symbols-outlined">{{ it.icon }}</mat-icon>
      <span class="flex-1 truncate">{{ it.label }}</span>
    </a>

    <div class="mt-4 px-3 text-[11px] text-white/70">v1.0.0 Â· Hecho con ðŸŽµ</div>
  </nav>
</aside>
